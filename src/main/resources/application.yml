spring:
  application:
    name: cipherbank

  # Database Configuration
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://34.180.14.173:3306/cipherbank
    username: root
    password: password
  #just
  # JPA/Hibernate Configuration
  jpa:
    show-sql: false
    hibernate:
      ddl-auto: update
      naming:
        physical-strategy: org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl
    properties:
      hibernate:
        dialect: org.hibernate.dialect.MySQLDialect

  # NEW: File Upload Configuration (IMPORTANT!)
  servlet:
    multipart:
      enabled: true                    # Enable multipart file upload
      max-file-size: 10MB             # Maximum file size (matches controller validation)
      max-request-size: 10MB          # Maximum request size
      file-size-threshold: 0          # Threshold after which files are written to disk
      location: /tmp                  # Temporary file storage location

# Swagger/OpenAPI Configuration
springdoc:
  api-docs:
    enabled: true

# JWT Configuration
jwt:
  secret: secret-key1234-secret-key1234-admin   # 32+ chars for HS256
  encryption-secret: 3f7a9c1d2b4e5f8091a2b3c4d5e6f701   # 128 bits encryption key
  expiration: 900000  # 15 minutes in milliseconds

# IP Whitelist Security Configuration
security:
  ip-whitelist:
    enabled: true      # Set to false to disable IP whitelist filtering
    debug: false       # Set to true to see detailed IP extraction logs (useful for debugging proxy issues)

logging:
  level:
    root: INFO
    com.paytrix.cipherbank: INFO                 # Application logs
    #    org.springframework.security: DEBUG        # show Spring Security logs
    #    org.springframework.web: DEBUG             # show request mappings and endpoints
    org.hibernate.SQL: DEBUG                   # show SQL queries
    #    org.hibernate.type.descriptor.sql.BasicBinder: TRACE # show SQL parameter bindings
    com.paytrix.cipherbank.infrastructure.security.IpWhitelistFilter: INFO  # IP whitelist logs
    com.paytrix.cipherbank.infrastructure.util.IpAddressUtil: DEBUG  # IP extraction logs
